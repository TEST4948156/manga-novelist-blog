# 🌐 公网访问配置指南

## 🎯 目标
让其他人通过互联网访问你的小说家博客

## 🚀 方案一：ngrok（推荐）

### 第一步：安装 ngrok
1. 访问 [ngrok.com](https://ngrok.com)
2. 注册免费账号
3. 下载 ngrok
4. 解压到任意文件夹（建议放到系统 PATH 中）

### 第二步：启动服务
```bash
# 方法一：使用脚本（推荐）
双击 start-public.bat

# 方法二：手动启动
# 1. 先启动本地服务
双击 start-local.bat

# 2. 开新窗口启动 ngrok
ngrok http 5173  # 前端
ngrok http 3001  # 后端（新窗口）
```

### 第三步：获取公网地址
ngrok 会显示类似这样的地址：
- 前端：`https://abc123.ngrok.io`
- 后端：`https://def456.ngrok.io`

### 第四步：配置前端连接后端
修改前端配置，让它连接到 ngrok 的后端地址：

在 `src/services/api.ts` 中：
```javascript
const API_BASE_URL = 'https://你的后端ngrok地址.ngrok.io/api'
```

### 第五步：重新构建前端
```bash
npm run build
```

然后通过前端的 ngrok 地址访问。

## 🔧 方案二：花生壳（国内用户）

### 优点
- 中文界面
- 国内访问速度快
- 有免费版本

### 步骤
1. 下载花生壳客户端
2. 注册账号
3. 添加内网穿透
4. 配置端口映射

## 🌟 方案三：云服务器（最稳定）

如果你有云服务器（阿里云、腾讯云等）：

### 部署步骤
1. 将项目上传到服务器
2. 安装 Node.js 和 npm
3. 启动服务
4. 配置防火墙开放端口

### 优点
- 稳定的公网IP
- 24小时在线
- 访问速度快

## 📊 方案对比

| 方案 | 成本 | 稳定性 | 配置难度 | 访问速度 |
|------|------|--------|----------|----------|
| ngrok | 免费 | 中等 | 简单 | 中等 |
| 花生壳 | 免费/付费 | 中等 | 简单 | 快（国内） |
| 云服务器 | 付费 | 高 | 中等 | 快 |

## 🎯 推荐方案

### 临时测试：ngrok
- 适合：展示给朋友看
- 优点：免费、快速
- 缺点：地址会变、不稳定

### 长期使用：云服务器
- 适合：正式运营
- 优点：稳定、快速
- 缺点：需要付费

## 🔧 ngrok 详细配置

### 1. 安装配置
```bash
# 下载后解压，然后
ngrok config add-authtoken 你的token
```

### 2. 启动隧道
```bash
# 同时启动多个端口
ngrok http 5173 --region=ap  # 亚太区域
ngrok http 3001 --region=ap
```

### 3. 自定义域名（付费版）
```bash
ngrok http 5173 --hostname=your-blog.ngrok.io
```

## ⚠️ 注意事项

### 安全考虑
- ngrok 会暴露你的本地服务到公网
- 建议只在需要时开启
- 不要暴露敏感信息

### 性能考虑
- 免费版有带宽限制
- 访问速度取决于网络
- 建议在网络好的环境下使用

## 🎉 快速开始

1. **下载 ngrok**：https://ngrok.com
2. **双击运行**：`start-public.bat`
3. **获取地址**：查看 ngrok 窗口
4. **分享给朋友**：发送前端地址

---

**🌐 现在你的博客可以被全世界访问了！**
